{"filter":false,"title":"FullLogInterface.php","tooltip":"/security/Interfaces/FullLogInterface.php","undoManager":{"mark":88,"position":88,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"remove","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["<"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":2},"end":{"row":0,"column":3},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":3},"end":{"row":0,"column":4},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":4},"end":{"row":0,"column":5},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":2},"end":{"row":0,"column":5},"action":"remove","lines":["php"]},{"start":{"row":0,"column":2},"end":{"row":0,"column":5},"action":"insert","lines":["php"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":5},"end":{"row":1,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":0},"end":{"row":1,"column":1},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":1},"end":{"row":1,"column":2},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":2},"end":{"row":1,"column":3},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":2},"end":{"row":1,"column":3},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":1},"end":{"row":1,"column":2},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":0},"end":{"row":1,"column":1},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":2,"column":7},"action":"insert","lines":["FullLog"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":2,"column":7},"action":"remove","lines":["FullLog"]},{"start":{"row":2,"column":0},"end":{"row":12,"column":2},"action":"insert","lines":["namespace security\\Interfaces;","","require_once(dirname(dirname(__DIR__)) . DIRECTORY_SEPARATOR. 'vendor/autoload.php');","","interface DBPrivileges","{","    const GLOBALUSER = 1;","    const ADMINUSER = 2;","    const CORPORATEUSER = 3;","    const CUSTOMERUSER = 4;","} "]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":10},"end":{"row":6,"column":22},"action":"remove","lines":["DBPrivileges"]},{"start":{"row":6,"column":10},"end":{"row":6,"column":11},"action":"insert","lines":["F"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":11},"end":{"row":6,"column":12},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":12},"end":{"row":6,"column":13},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":13},"end":{"row":6,"column":14},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":14},"end":{"row":6,"column":15},"action":"insert","lines":["L"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":15},"end":{"row":6,"column":16},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":16},"end":{"row":6,"column":17},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":10},"end":{"row":6,"column":17},"action":"remove","lines":["FullLog"]},{"start":{"row":6,"column":10},"end":{"row":6,"column":26},"action":"insert","lines":["FullLogInterface"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":4},"end":{"row":11,"column":27},"action":"remove","lines":["const GLOBALUSER = 1;","    const ADMINUSER = 2;","    const CORPORATEUSER = 3;","    const CUSTOMERUSER = 4;"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":4},"end":{"row":76,"column":39},"action":"insert","lines":["public function __construct($logger = null, $path = null)","    {","        $this->path = isset($path) && !is_null($path) ? $path : $this->path;","        if (!file_exists($this->path)) {","            touch($this->path);","        }","        $this->logger = isset($logger) && is_object($logger) && $logger instanceof LoggerInterface ? ","                    $this->setLogger($logger) : $this->setDefaultLogger();","        $this->serverData();","    }","    protected function setLogger(LoggerInterface $logger) ","    {","        return $logger;","    }","    public function getLogger()","    {","        return $this->logger;","    }","    protected function setDefaultLogger()","    {","        $date = new DateTime();","        $date = $date->format(DateTime::RFC850);","        $log = new Logger(\"Activities at $date\");","        $log->pushHandler(new StreamHandler($this->path, Logger::INFO));","        return $log;","    }","    protected function serverData()","    {","        $logger = $this->logger;","        $request = '';","        ","        foreach(getallheaders() as $key => $value) {","            $request .= \"[$key:$value], \" . PHP_EOL;","        }","        $request .= \"[{$_SERVER['SCRIPT_FILENAME']}], \" . PHP_EOL;","        $request .= \"[{$_SERVER['REQUEST_METHOD']}], \" . PHP_EOL;","        $request .= \"[{$_SERVER['QUERY_STRING']}], \" . PHP_EOL;","        $request .= \"[{$_SERVER['REQUEST_URI']}], \" . PHP_EOL;","        $logger->addInfo($request);","    }","    public function addDebug($data)","    {","        $this->logger->addDebug($data);","    }","    public function addInfo($data) ","    {","        $this->logger->addInfo($data);","    }","    public function addNotice($data)","    {","        $this->logger->addNotice($data);","    }","    public function addWarning($data)","    {","        $this->logger->addWarning($data);","    }","    public function addError($data)","    {","        $this->logger->addError($data);","    }","    public function addCritical($data)","    {","        $this->logger->addCritical($data);","    }","    public function addAlert($data)","    {","        $this->logger->addAlert($data);","    }","    public function addEmergency($data)"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":4},"end":{"row":17,"column":5},"action":"remove","lines":["public function __construct($logger = null, $path = null)","    {","        $this->path = isset($path) && !is_null($path) ? $path : $this->path;","        if (!file_exists($this->path)) {","            touch($this->path);","        }","        $this->logger = isset($logger) && is_object($logger) && $logger instanceof LoggerInterface ? ","                    $this->setLogger($logger) : $this->setDefaultLogger();","        $this->serverData();","    }"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":57},"end":{"row":12,"column":5},"action":"remove","lines":[" ","    {","        return $logger;","    }"]},{"start":{"row":9,"column":57},"end":{"row":9,"column":58},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":31},"end":{"row":13,"column":5},"action":"remove","lines":["","    {","        return $this->logger;","    }"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":31},"end":{"row":10,"column":32},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":41},"end":{"row":18,"column":5},"action":"remove","lines":["","    {","        $date = new DateTime();","        $date = $date->format(DateTime::RFC850);","        $log = new Logger(\"Activities at $date\");","        $log->pushHandler(new StreamHandler($this->path, Logger::INFO));","        return $log;","    }"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":41},"end":{"row":11,"column":42},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":35},"end":{"row":25,"column":5},"action":"remove","lines":["","    {","        $logger = $this->logger;","        $request = '';","        ","        foreach(getallheaders() as $key => $value) {","            $request .= \"[$key:$value], \" . PHP_EOL;","        }","        $request .= \"[{$_SERVER['SCRIPT_FILENAME']}], \" . PHP_EOL;","        $request .= \"[{$_SERVER['REQUEST_METHOD']}], \" . PHP_EOL;","        $request .= \"[{$_SERVER['QUERY_STRING']}], \" . PHP_EOL;","        $request .= \"[{$_SERVER['REQUEST_URI']}], \" . PHP_EOL;","        $logger->addInfo($request);","    }"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":35},"end":{"row":12,"column":36},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":4},"end":{"row":17,"column":4},"action":"remove","lines":["{","        $this->logger->addDebug($data);","    }","    "]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":35},"end":{"row":13,"column":36},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":34},"end":{"row":14,"column":35},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":15,"column":0},"end":{"row":18,"column":0},"action":"remove","lines":["    {","        $this->logger->addInfo($data);","    }",""]},{"start":{"row":15,"column":0},"end":{"row":16,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":15,"column":0},"end":{"row":16,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":15,"column":36},"end":{"row":15,"column":37},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":15,"column":37},"end":{"row":18,"column":5},"action":"remove","lines":["","    {","        $this->logger->addNotice($data);","    }"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":37},"end":{"row":16,"column":38},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":38},"end":{"row":19,"column":5},"action":"remove","lines":["","    {","        $this->logger->addWarning($data);","    }"]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":35},"end":{"row":17,"column":36},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":36},"end":{"row":20,"column":5},"action":"remove","lines":["","    {","        $this->logger->addError($data);","    }"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":38},"end":{"row":21,"column":5},"action":"remove","lines":["","    {","        $this->logger->addCritical($data);","    }"]},{"start":{"row":18,"column":38},"end":{"row":18,"column":39},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":35},"end":{"row":22,"column":5},"action":"remove","lines":["","    {","        $this->logger->addAlert($data);","    }"]},{"start":{"row":19,"column":35},"end":{"row":19,"column":36},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":39},"end":{"row":20,"column":40},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":0},"end":{"row":6,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":0},"end":{"row":7,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":0},"end":{"row":6,"column":1},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":1},"end":{"row":6,"column":2},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":2},"end":{"row":6,"column":3},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":3},"end":{"row":6,"column":4},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":4},"end":{"row":6,"column":33},"action":"insert","lines":["use \\Psr\\Log\\LoggerInterface;"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":0},"end":{"row":6,"column":3},"action":"remove","lines":["use"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":0},"end":{"row":6,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":1},"end":{"row":10,"column":4},"action":"remove","lines":["","    "]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":1},"end":{"row":10,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":1},"end":{"row":9,"column":5},"action":"remove","lines":["    "]},{"start":{"row":9,"column":1},"end":{"row":10,"column":0},"action":"insert","lines":["",""]},{"start":{"row":10,"column":0},"end":{"row":10,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":4},"end":{"row":10,"column":13},"action":"remove","lines":["protected"]},{"start":{"row":10,"column":4},"end":{"row":10,"column":5},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":5},"end":{"row":10,"column":6},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":6},"end":{"row":10,"column":7},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":6},"end":{"row":10,"column":7},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":6},"end":{"row":10,"column":7},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":7},"end":{"row":10,"column":8},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":8},"end":{"row":10,"column":9},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":9},"end":{"row":10,"column":10},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":4},"end":{"row":12,"column":13},"action":"remove","lines":["protected"]},{"start":{"row":12,"column":4},"end":{"row":12,"column":5},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":5},"end":{"row":12,"column":6},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":6},"end":{"row":12,"column":7},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":7},"end":{"row":12,"column":8},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":8},"end":{"row":12,"column":9},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":9},"end":{"row":12,"column":10},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":4},"end":{"row":13,"column":13},"action":"remove","lines":["protected"]},{"start":{"row":13,"column":4},"end":{"row":13,"column":5},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":5},"end":{"row":13,"column":6},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":6},"end":{"row":13,"column":7},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":7},"end":{"row":13,"column":8},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":8},"end":{"row":13,"column":9},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":9},"end":{"row":13,"column":10},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":30},"end":{"row":10,"column":45},"action":"remove","lines":["LoggerInterface"]},{"start":{"row":10,"column":30},"end":{"row":10,"column":31},"action":"insert","lines":["F"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":31},"end":{"row":10,"column":32},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":32},"end":{"row":10,"column":33},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":33},"end":{"row":10,"column":34},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":30},"end":{"row":10,"column":34},"action":"remove","lines":["Full"]},{"start":{"row":10,"column":30},"end":{"row":10,"column":46},"action":"insert","lines":["FullLogInterface"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":0},"end":{"row":7,"column":0},"action":"remove","lines":["use \\Psr\\Log\\LoggerInterface;",""]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":0},"end":{"row":7,"column":0},"action":"remove","lines":["",""]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":7,"column":1},"end":{"row":7,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1421602175283,"hash":"17c7847f6d59b625b5883a481766ec289c5404f9"}